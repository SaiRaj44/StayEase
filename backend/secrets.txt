# StayEase Backend - Secrets Configuration Guide

This file contains instructions for setting up environment variables and secrets for the backend.

## Important Security Note
⚠️ NEVER commit actual secrets to the repository. Use `.env.example` for reference only.
The `.env` file should be in `.gitignore` and exist only on your local machine and production servers.

## Environment Setup Steps

1. **Copy the example file:**
   ```bash
   cp backend/.env.example backend/.env
   ```

2. **Replace placeholder values with your actual credentials:**

   - **JWT Secrets:** Generate random strings
     ```bash
     node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
     ```

   - **Session Secret:** Generate a random string
     ```bash
     node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
     ```

   - **Google OAuth Credentials:**
     - Go to Google Cloud Console: https://console.cloud.google.com/
     - Create a new project or select existing
     - Enable Google+ API
     - Create OAuth 2.0 credentials (Web application)
     - Add authorized redirect URIs
     - Copy CLIENT_ID and CLIENT_SECRET to .env

   - **Razorpay Credentials:**
     - Sign up at https://razorpay.com/
     - Get API key and secret from dashboard
     - Use test keys for development (rzp_test_*)

   - **OpenAI API Key:**
     - Sign up at https://openai.com/
     - Generate API key from account settings
     - Use for chatbot functionality

   - **MongoDB URI:**
     - For local development: mongodb://localhost:27017/stayease
     - For cloud (MongoDB Atlas): mongodb+srv://username:password@cluster.mongodb.net/stayease

3. **Production Setup:**
   - Set NODE_ENV=production
   - Use environment variables from your deployment platform (Heroku, AWS, Docker, etc.)
   - Never hardcode secrets in code

## Secrets Checklist

- [ ] JWT_SECRET - Cryptographically secure random string
- [ ] JWT_REFRESH_TOKEN_SECRET - Cryptographically secure random string
- [ ] SESSION_SECRET - Cryptographically secure random string
- [ ] GOOGLE_CLIENT_ID - From Google Cloud Console
- [ ] GOOGLE_CLIENT_SECRET - From Google Cloud Console
- [ ] RAZORPAY_KEY_ID - From Razorpay Dashboard
- [ ] RAZORPAY_KEY_SECRET - From Razorpay Dashboard
- [ ] OPENAI_API_KEY - From OpenAI Account
- [ ] MONGODB_URI - Database connection string

## Local Development

1. Start MongoDB (if running locally):
   ```bash
   mongod
   ```

2. Install dependencies:
   ```bash
   npm install
   ```

3. Run the server:
   ```bash
   npm start
   ```
   or with auto-reload:
   ```bash
   npm run dev
   ```

## Security Best Practices

✅ DO:
- Use `.env.example` as a template
- Store actual secrets in `.env` (local only)
- Use strong, random values for secrets
- Rotate secrets periodically
- Use different secrets for development, staging, and production

❌ DON'T:
- Commit `.env` to version control
- Share secrets via email or chat
- Use the same secrets across environments
- Hardcode secrets in source code
- Use weak or predictable secret values
